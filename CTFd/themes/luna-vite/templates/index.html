{% extends "templates/base.html" %}

{% block content %}
<div id="homeWrapper">
    <div class="homeContent">
        <div class="homeScreen">
            <img class="logo" src="{{ url_for('views.files', path=Configs.ctf_logo) if Configs.ctf_logo else url_for('views.themes', path='img/logos/sekai2.svg') }}" alt="SSS CTF" />
            <span id="homeCountdown">Hai orang terpilih!</span>
        </div>
        <div class="homeScreen">
            <div class="Heading" style="padding-top: 20rem;">Sponsored By</div>
            <ol class="sponsorsOl">
                <li>
                    <a href="https://karyasija.id" target="_blank" rel="noopener noreferrer" onClick="(e)=> e.stopPropagation()">
                        <img src="{{ url_for('views.themes', path='img/logos/ks.svg') }}" alt="KaryaSija" style="max-width: 15rem" />
                    </a>
                </li>
            </ol>
            <div class="Heading">Atmind</div>
            <ol class="sponsorsOl">
                <li>
                    <a href="https://rizkyfauzan.id" target="_blank" rel="noopener noreferrer" onClick="(e)=> e.stopPropagation()">
                        <img src="https://cdn.rizkyfauzan.id/avatar.webp" alt="Atmind Infra" style="max-width: 15rem" />
                    </a>
                </li>
                <br>
                <li>
                    <img src="https://galeri.aryok.tech/_next/image?url=https%3A%2F%2Fqcqejwhspgjyqjxjiwku.supabase.co%2Fstorage%2Fv1%2Fobject%2Fpublic%2Fphotos%2F1754718542521-kskcweu39nh.png&w=1200&q=75" alt="Ketua" style="max-width: 15rem" />
                </li>
            </ol>
        </div>
    </div>
    <div class="buttonOverlay">
        <a href="{{ (Configs.theme_settings or {}).get('social_link_url', 'https://karyasija.id') }}"  target="_blank" class="button iconButton shade discordButton" data-tippy-lyrics>
         <iconify-icon icon="{{ (Configs.theme_settings or {}).get('social_link_icon', 'codicon:globe') }}" inline></iconify-icon>
        </a>
        {% include 'components/status.html' %}
        {% include 'components/menu.html' %}
        <div class="homeCTAButtons">
            <a href="/rules" class="button textButton shade homeCTAButton">
                <iconify-icon icon="mdi:book-open-variant" style="transform: translate(4px, -10px) scale(1.1);"></iconify-icon>
                <span>{% trans %}Rules{% endtrans %}</span>
            </a>
            {% if authed() %}
            <a href="{{ url_for('scoreboard.listing') }}" class="button textButton shade homeCTAButton">
                <iconify-icon icon="mdi:podium" style="transform: translate(4px, -10px) scale(1.1);"></iconify-icon>
                <span>{% trans %}Rankings{% endtrans %}</span>
            </a>
            <a href="{{ url_for('challenges.listing') }}" class="button textButton shade primary homeCTAButton">
                <iconify-icon icon="fluent:music-note-2-24-filled" style="transform: translateY(-15px) scale(1.4);"></iconify-icon>
                <span>{% trans %}Challenges{% endtrans %}</span>
            </a>
            {% else %}
            {% if registration_visible() %}
            <a href="{{ url_for('auth.register') }}" class="button textButton shade homeCTAButton">
                <iconify-icon icon="mdi:account-plus" style="transform: translate(4px, -10px) scale(1.1);"></iconify-icon>
                <span>{% trans %}Register{% endtrans %}</span>
            </a>
            {% endif %}
            <a href="{{ url_for('auth.login') }}" class="button textButton shade primary homeCTAButton">
                <iconify-icon icon="mdi:login-variant" style="transform: translateY(-13px) scale(1.25);"></iconify-icon>
                <span>{% trans %}Log in{% endtrans %}</span>
            </a>
            {% endif %}
        </div>
    </div>
</div>

{# Title screen #}

<div id="titleScreen" class="hidden">
    <canvas class="particlesCanvas" id="particlesCanvas" ref="canvasRef"></canvas>
    <div id="sessionSid" class="metadata" data-tippy-lyrics>{{ session.sid }}</div>
    <div class="credit metadata">
        {{ config.get_config("ctf_version") }}.Luna, Powered by CTFd<br />
        <small>Theme Luna by 1A23 Studio for Project SEKAI CTF<br />
        <small>This website is in no way affiliated with SEGA, Colorful Palette Inc., Crypton Future Media, INC.</small>
        </small>
    </div>
    <div class="sponsors metadata">
        <a href="https://ctfd.io" target="_blank" rel="noopener noreferrer" onClick="(e)=> e.stopPropagation()">
            <img src="{{ url_for('views.themes', path='img/logos/ctfd.svg') }}" alt="CTFd" />
        </a>
        <a href="https://karyasija.id" target="_blank" rel="noopener noreferrer" onClick="(e)=> e.stopPropagation()">
            <img src="{{ url_for('views.themes', path='img/logos/ks.svg') }}" alt="KaryaSija" style="max-width: 15rem" />
        </a>
    </div>
    <div class="logoBox">
        <img src="{{ url_for('views.files', path=Configs.ctf_logo) if Configs.ctf_logo else url_for('views.themes', path='img/logos/sekai2.svg') }}" alt="Project SEKAI CTF" />
        <div class="tapToStart">{{ gettext("%(verb)s to start", verb=gettext('<span class="click">Click</span><span class="tap">Tap</span>')) | safe }}</div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    const PartileAssets = {
        pattern1: "{{ url_for('views.themes', path='img/particles/solid.svg') }}",
        pattern2: "{{ url_for('views.themes', path='img/particles/outline.svg') }}",
        pattern3: "{{ url_for('views.themes', path='img/particles/blur.svg') }}",
    };
</script>

<style>
    body {
        --title-bg: url("{{ url_for('views.themes', path='img/splash-background.svg') }}");
        --low-poly-bg: url("{{ url_for('views.themes', path='img/particles/lowpoly.svg') }}");
    }
</style>

{{ Assets.js("assets/js/index.js") }}
{% endblock %}
